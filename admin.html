<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="style.css">
    <script src="admin.js" defer></script>
</head>
<body class="bg-gray-50 font-sans text-gray-800">

    <div class="min-h-screen flex flex-col md:flex-row">
        <!-- Sidebar -->
        <aside class="bg-white w-full md:w-72 border-r border-gray-100 flex-shrink-0 z-20">
            <div class="h-20 flex items-center px-8 border-b border-gray-50">
                <div class="flex items-center gap-2 text-orange-600">
                    <i class="ph-fill ph-bowl-food text-2xl"></i>
                    <span class="font-kalam text-2xl font-bold text-gray-800">Mom's Admin</span>
                </div>
            </div>
            <nav class="p-6 space-y-2">
                <button onclick="switchTab('dashboard')" id="nav-dashboard" class="w-full flex items-center gap-3 px-4 py-3.5 rounded-2xl text-left font-bold text-orange-600 bg-orange-50 transition-all">
                    <i class="ph ph-squares-four text-xl"></i> Dashboard
                </button>
                <button onclick="switchTab('kitchens')" id="nav-kitchens" class="w-full flex items-center gap-3 px-4 py-3.5 rounded-2xl text-left font-medium text-gray-500 hover:bg-gray-50 transition-all">
                    <i class="ph ph-house-line text-xl"></i> Kitchens
                </button>
                <button onclick="switchTab('dishes')" id="nav-dishes" class="w-full flex items-center gap-3 px-4 py-3.5 rounded-2xl text-left font-medium text-gray-500 hover:bg-gray-50 transition-all">
                    <i class="ph ph-bowl-food text-xl"></i> Dishes
                </button>
                
                <div class="pt-8 mt-8 border-t border-gray-100">
                    <button onclick="doLogout()" class="w-full flex items-center gap-3 px-4 py-3.5 rounded-2xl text-left font-bold text-red-500 hover:bg-red-50 transition-all">
                        <i class="ph ph-sign-out text-xl"></i> Logout
                    </button>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 md:p-10 overflow-y-auto bg-gray-50/50">
            
            <!-- Dashboard View -->
            <div id="view-dashboard" class="space-y-8 animate-fade-in">
                <div>
                    <h1 class="text-3xl font-bold text-gray-800">Dashboard Overview</h1>
                    <p class="text-gray-500">Welcome back, Admin.</p>
                </div>

                <!-- Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="glass-card p-6 rounded-3xl border-l-4 border-blue-500">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-gray-500 font-medium text-sm">Total Orders</p>
                                <p class="text-4xl font-bold text-gray-800 mt-2" id="stat-orders">0</p>
                            </div>
                            <div class="p-3 bg-blue-50 text-blue-500 rounded-xl">
                                <i class="ph-fill ph-receipt text-2xl"></i>
                            </div>
                        </div>
                    </div>
                    <div class="glass-card p-6 rounded-3xl border-l-4 border-purple-500">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-gray-500 font-medium text-sm">Active Kitchens</p>
                                <p class="text-4xl font-bold text-gray-800 mt-2" id="stat-kitchens">0</p>
                            </div>
                            <div class="p-3 bg-purple-50 text-purple-500 rounded-xl">
                                <i class="ph-fill ph-house text-2xl"></i>
                            </div>
                        </div>
                    </div>
                    <div class="glass-card p-6 rounded-3xl border-l-4 border-green-500">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-gray-500 font-medium text-sm">Total Revenue</p>
                                <p class="text-4xl font-bold text-gray-800 mt-2" id="stat-revenue">₹0</p>
                            </div>
                            <div class="p-3 bg-green-50 text-green-500 rounded-xl">
                                <i class="ph-fill ph-currency-inr text-2xl"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Orders Table -->
                <div>
                    <h2 class="text-xl font-bold text-gray-800 mb-4">Recent Orders</h2>
                    <div class="bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-gray-50 border-b border-gray-100 text-gray-500">
                                    <tr>
                                        <th class="p-5 font-bold uppercase text-xs tracking-wider">Order ID</th>
                                        <th class="p-5 font-bold uppercase text-xs tracking-wider">Customer</th>
                                        <th class="p-5 font-bold uppercase text-xs tracking-wider">Items</th>
                                        <th class="p-5 font-bold uppercase text-xs tracking-wider">Total</th>
                                        <th class="p-5 font-bold uppercase text-xs tracking-wider">Status</th>
                                        <th class="p-5 font-bold uppercase text-xs tracking-wider">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="orders-table-body" class="divide-y divide-gray-50"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Kitchens View -->
            <div id="view-kitchens" class="space-y-8 hidden animate-fade-in">
                <div class="flex justify-between items-center">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-800">Kitchens</h1>
                        <p class="text-gray-500">Manage your home chefs</p>
                    </div>
                    <button onclick="openModal('kitchen-modal')" class="btn-primary px-6 py-3 rounded-xl font-bold flex items-center gap-2">
                        <i class="ph-bold ph-plus"></i> Add Kitchen
                    </button>
                </div>
                <div id="admin-kitchens-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- Dishes View -->
            <div id="view-dishes" class="space-y-8 hidden animate-fade-in">
                <div class="flex justify-between items-center">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-800">Dishes</h1>
                        <p class="text-gray-500">Manage menu items</p>
                    </div>
                    <button onclick="openModal('dish-modal')" class="btn-primary px-6 py-3 rounded-xl font-bold flex items-center gap-2">
                        <i class="ph-bold ph-plus"></i> Add Dish
                    </button>
                </div>
                <div id="admin-dishes-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

        </main>
    </div>

    <!-- ADD KITCHEN MODAL -->
    <div id="kitchen-modal" class="fixed inset-0 z-50 bg-black/40 backdrop-blur-sm hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl animate-fade-in">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">Add New Kitchen</h2>
            <form onsubmit="addKitchen(event)" class="space-y-4">
                <input type="text" id="k-name" placeholder="Kitchen Name" class="input-modern w-full" required>
                <input type="text" id="k-desc" placeholder="Short Description" class="input-modern w-full" required>
                <!-- Image Input Group -->
                <div class="space-y-2">
                    <label class="text-sm font-bold text-gray-500">Kitchen Image</label>
                    <input type="text" id="k-img-url" placeholder="Image URL (optional)" class="input-modern w-full">
                    <div class="text-center text-sm text-gray-400">- OR -</div>
                    <input type="file" id="k-img-file" accept="image/*" class="block w-full text-sm text-slate-500
                        file:mr-4 file:py-2 file:px-4
                        file:rounded-full file:border-0
                        file:text-sm file:font-semibold
                        file:bg-orange-50 file:text-orange-700
                        hover:file:bg-orange-100
                    "/>
                </div>
                <div class="flex gap-3 mt-8">
                    <button type="button" onclick="closeModal('kitchen-modal')" class="flex-1 py-3 rounded-xl text-gray-600 font-bold hover:bg-gray-50 transition">Cancel</button>
                    <button type="submit" class="flex-1 py-3 rounded-xl bg-gray-900 text-white font-bold hover:bg-black transition shadow-lg btn-lift">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ADD DISH MODAL -->
    <div id="dish-modal" class="fixed inset-0 z-50 bg-black/40 backdrop-blur-sm hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl animate-fade-in">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">Add New Dish</h2>
            <form onsubmit="addDish(event)" class="space-y-4">
                <select id="d-kitchen" class="input-modern w-full bg-white" required></select>
                <input type="text" id="d-name" placeholder="Dish Name" class="input-modern w-full" required>
                <div class="grid grid-cols-2 gap-4">
                    <input type="number" id="d-price" placeholder="Price (₹)" class="input-modern w-full" required>
                    <input type="text" id="d-desc" placeholder="Description" class="input-modern w-full">
                </div>
                <!-- Image Input Group -->
                <div class="space-y-2">
                    <label class="text-sm font-bold text-gray-500">Dish Image</label>
                    <input type="text" id="d-img-url" placeholder="Image URL (optional)" class="input-modern w-full">
                    <div class="text-center text-sm text-gray-400">- OR -</div>
                    <input type="file" id="d-img-file" accept="image/*" class="block w-full text-sm text-slate-500
                        file:mr-4 file:py-2 file:px-4
                        file:rounded-full file:border-0
                        file:text-sm file:font-semibold
                        file:bg-orange-50 file:text-orange-700
                        hover:file:bg-orange-100
                    "/>
                </div>
                <div class="flex gap-3 mt-8">
                    <button type="button" onclick="closeModal('dish-modal')" class="flex-1 py-3 rounded-xl text-gray-600 font-bold hover:bg-gray-50 transition">Cancel</button>
                    <button type="submit" class="flex-1 py-3 rounded-xl bg-gray-900 text-white font-bold hover:bg-black transition shadow-lg btn-lift">Save</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>